<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" height="1935px" preserveAspectRatio="none" style="width:528px;height:1935px;background:#FFFFFF;" version="1.1" viewBox="0 0 528 1935" width="528px" zoomAndPan="magnify"><defs/><g><rect fill="none" height="59.2656" style="stroke:#000000;stroke-width:1.5;" width="149.5" x="99.5" y="98.2969"/><rect fill="none" height="340.1328" style="stroke:#000000;stroke-width:1.5;" width="342.5" x="10" y="171.5625"/><rect fill="none" height="222.6016" style="stroke:#000000;stroke-width:1.5;" width="243" x="99.5" y="282.0938"/><rect fill="none" height="650.8047" style="stroke:#000000;stroke-width:1.5;" width="369.5" x="89.5" y="525.6953"/><rect fill="none" height="367.9375" style="stroke:#000000;stroke-width:1.5;" width="329" x="99.5" y="636.2266"/><rect fill="none" height="116.2031" style="stroke:#000000;stroke-width:1.5;" width="155" x="263.5" y="831.0234"/><rect fill="none" height="109.2031" style="stroke:#000000;stroke-width:1.5;" width="176" x="252" y="1060.2969"/><rect fill="none" height="130.5313" style="stroke:#000000;stroke-width:1.5;" width="265" x="99.5" y="1190.5"/><rect fill="none" height="247.9297" style="stroke:#000000;stroke-width:1.5;" width="263" x="89.5" y="1335.0313"/><rect fill="none" height="172.6641" style="stroke:#000000;stroke-width:1.5;" width="243" x="99.5" y="1359.1641"/><rect fill="none" height="240.9297" style="stroke:#000000;stroke-width:1.5;" width="432.5" x="89.5" y="1596.9609"/><rect fill="none" height="96.3984" style="stroke:#000000;stroke-width:1.5;" width="178.5" x="99.5" y="1734.4922"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="39" x2="39" y1="81.2969" y2="1854.8906"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="152.5" x2="152.5" y1="81.2969" y2="1854.8906"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="302.5" x2="302.5" y1="81.2969" y2="1854.8906"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="454" x2="454" y1="81.2969" y2="1854.8906"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="32" x="20" y="77.9951">User</text><ellipse cx="39" cy="13.5" fill="#E2E2F0" rx="8" ry="8" style="stroke:#181818;stroke-width:0.5;"/><path d="M39,21.5 L39,48.5 M26,29.5 L52,29.5 M39,48.5 L26,63.5 M39,48.5 L52,63.5 " fill="none" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="32" x="20" y="1866.8857">User</text><ellipse cx="39" cy="1878.6875" fill="#E2E2F0" rx="8" ry="8" style="stroke:#181818;stroke-width:0.5;"/><path d="M39,1886.6875 L39,1913.6875 M26,1894.6875 L52,1894.6875 M39,1913.6875 L26,1928.6875 M39,1913.6875 L52,1928.6875 " fill="none" style="stroke:#181818;stroke-width:0.5;"/><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="87" x="109.5" y="50"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="73" x="116.5" y="69.9951">Requester</text><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="87" x="109.5" y="1853.8906"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="73" x="116.5" y="1873.8857">Requester</text><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="59" x="273.5" y="50"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="45" x="280.5" y="69.9951">Holder</text><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="59" x="273.5" y="1853.8906"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="45" x="280.5" y="1873.8857">Holder</text><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="116" x="396" y="50"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="102" x="403" y="69.9951">2nd_requester</text><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="116" x="396" y="1853.8906"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="102" x="403" y="1873.8857">2nd_requester</text><path d="M99.5,98.2969 L199.5,98.2969 L199.5,105.4297 L189.5,115.4297 L99.5,115.4297 L99.5,98.2969 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="59.2656" style="stroke:#000000;stroke-width:1.5;" width="149.5" x="99.5" y="98.2969"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="55" x="114.5" y="111.3638">Startup</text><line style="stroke:#181818;stroke-width:1.0;" x1="153" x2="195" y1="136.5625" y2="136.5625"/><line style="stroke:#181818;stroke-width:1.0;" x1="195" x2="195" y1="136.5625" y2="149.5625"/><line style="stroke:#181818;stroke-width:1.0;" x1="154" x2="195" y1="149.5625" y2="149.5625"/><polygon fill="#181818" points="164,145.5625,154,149.5625,164,153.5625,160,149.5625" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="77" x="160" y="131.4966">Generate ID</text><path d="M10,171.5625 L138,171.5625 L138,178.6953 L128,188.6953 L10,188.6953 L10,171.5625 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="340.1328" style="stroke:#000000;stroke-width:1.5;" width="342.5" x="10" y="171.5625"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="83" x="25" y="184.6294">User action</text><polygon fill="#181818" points="141,205.8281,151,209.8281,141,213.8281,145,209.8281" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="39" x2="147" y1="209.8281" y2="209.8281"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="90" x="46" y="204.7622">Button1 press</text><line style="stroke:#181818;stroke-width:1.0;" x1="153" x2="195" y1="254.0938" y2="254.0938"/><line style="stroke:#181818;stroke-width:1.0;" x1="195" x2="195" y1="254.0938" y2="267.0938"/><line style="stroke:#181818;stroke-width:1.0;" x1="154" x2="195" y1="267.0938" y2="267.0938"/><polygon fill="#181818" points="164,263.0938,154,267.0938,164,271.0938,160,267.0938" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="50" x="160" y="233.895">Check if</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="83" x="160" y="249.0278">holding LED1</text><path d="M99.5,282.0938 L163.5,282.0938 L163.5,289.2266 L153.5,299.2266 L99.5,299.2266 L99.5,282.0938 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="222.6016" style="stroke:#000000;stroke-width:1.5;" width="243" x="99.5" y="282.0938"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="19" x="114.5" y="295.1606">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="71" x="178.5" y="294.3042">[Holding 1]</text><path d="M112,304.2266 L112,329.2266 L194,329.2266 L194,314.2266 L184,304.2266 L112,304.2266 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M184,304.2266 L184,314.2266 L194,314.2266 L184,304.2266 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="61" x="118" y="321.2935">No action</text><line style="stroke:#000000;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="99.5" x2="342.5" y1="335.3594" y2="335.3594"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="96" x="104.5" y="345.5698">[Not holding 1]</text><line style="stroke:#181818;stroke-width:1.0;" x1="153" x2="195" y1="370.2969" y2="370.2969"/><line style="stroke:#181818;stroke-width:1.0;" x1="195" x2="195" y1="370.2969" y2="383.2969"/><line style="stroke:#181818;stroke-width:1.0;" x1="154" x2="195" y1="383.2969" y2="383.2969"/><polygon fill="#181818" points="164,379.2969,154,383.2969,164,387.2969,160,383.2969" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="77" x="160" y="365.231">Switch to TX</text><polygon fill="#181818" points="291,408.4297,301,412.4297,291,416.4297,295,412.4297" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="153" x2="297" y1="412.4297" y2="412.4297"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="122" x="160" y="407.3638">LED req(IDa, LED1)</text><line style="stroke:#181818;stroke-width:1.0;" x1="153" x2="195" y1="441.5625" y2="441.5625"/><line style="stroke:#181818;stroke-width:1.0;" x1="195" x2="195" y1="441.5625" y2="454.5625"/><line style="stroke:#181818;stroke-width:1.0;" x1="154" x2="195" y1="454.5625" y2="454.5625"/><polygon fill="#181818" points="164,450.5625,154,454.5625,164,458.5625,160,454.5625" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="78" x="160" y="436.4966">Switch to RX</text><line style="stroke:#181818;stroke-width:1.0;" x1="153" x2="195" y1="483.6953" y2="483.6953"/><line style="stroke:#181818;stroke-width:1.0;" x1="195" x2="195" y1="483.6953" y2="496.6953"/><line style="stroke:#181818;stroke-width:1.0;" x1="154" x2="195" y1="496.6953" y2="496.6953"/><polygon fill="#181818" points="164,492.6953,154,496.6953,164,500.6953,160,496.6953" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="74" x="160" y="478.6294">Begin timer</text><path d="M89.5,525.6953 L311.5,525.6953 L311.5,532.8281 L301.5,542.8281 L89.5,542.8281 L89.5,525.6953 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="650.8047" style="stroke:#000000;stroke-width:1.5;" width="369.5" x="89.5" y="525.6953"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="177" x="104.5" y="538.7622">Holder receives request</text><polygon fill="#181818" points="291,559.9609,301,563.9609,291,567.9609,295,563.9609" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="153" x2="297" y1="563.9609" y2="563.9609"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="122" x="160" y="558.895">LED req(IDa, LED1)</text><line style="stroke:#181818;stroke-width:1.0;" x1="303" x2="345" y1="608.2266" y2="608.2266"/><line style="stroke:#181818;stroke-width:1.0;" x1="345" x2="345" y1="608.2266" y2="621.2266"/><line style="stroke:#181818;stroke-width:1.0;" x1="304" x2="345" y1="621.2266" y2="621.2266"/><polygon fill="#181818" points="314,617.2266,304,621.2266,314,625.2266,310,621.2266" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="50" x="310" y="588.0278">Check if</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="83" x="310" y="603.1606">holding LED1</text><path d="M99.5,636.2266 L163.5,636.2266 L163.5,643.3594 L153.5,653.3594 L99.5,653.3594 L99.5,636.2266 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="367.9375" style="stroke:#000000;stroke-width:1.5;" width="329" x="99.5" y="636.2266"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="19" x="114.5" y="649.2935">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="71" x="178.5" y="648.437">[Holding 1]</text><line style="stroke:#181818;stroke-width:1.0;" x1="303" x2="345" y1="674.4922" y2="674.4922"/><line style="stroke:#181818;stroke-width:1.0;" x1="345" x2="345" y1="674.4922" y2="687.4922"/><line style="stroke:#181818;stroke-width:1.0;" x1="304" x2="345" y1="687.4922" y2="687.4922"/><polygon fill="#181818" points="314,683.4922,304,687.4922,314,691.4922,310,687.4922" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="53" x="310" y="669.4263">LED1 off</text><line style="stroke:#181818;stroke-width:1.0;" x1="303" x2="345" y1="716.625" y2="716.625"/><line style="stroke:#181818;stroke-width:1.0;" x1="345" x2="345" y1="716.625" y2="729.625"/><line style="stroke:#181818;stroke-width:1.0;" x1="304" x2="345" y1="729.625" y2="729.625"/><polygon fill="#181818" points="314,725.625,304,729.625,314,733.625,310,729.625" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="77" x="310" y="711.5591">Switch to TX</text><polygon fill="#181818" points="164,754.7578,154,758.7578,164,762.7578,160,758.7578" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="158" x2="302" y1="758.7578" y2="758.7578"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="121" x="170" y="753.6919">LED res(IDa, LED1)</text><line style="stroke:#181818;stroke-width:1.0;" x1="303" x2="345" y1="803.0234" y2="803.0234"/><line style="stroke:#181818;stroke-width:1.0;" x1="345" x2="345" y1="803.0234" y2="816.0234"/><line style="stroke:#181818;stroke-width:1.0;" x1="304" x2="345" y1="816.0234" y2="816.0234"/><polygon fill="#181818" points="314,812.0234,304,816.0234,314,820.0234,310,816.0234" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="50" x="310" y="782.8247">Check if</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="83" x="310" y="797.9575">holding LED2</text><path d="M263.5,831.0234 L327.5,831.0234 L327.5,838.1563 L317.5,848.1563 L263.5,848.1563 L263.5,831.0234 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="116.2031" style="stroke:#000000;stroke-width:1.5;" width="155" x="263.5" y="831.0234"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="19" x="278.5" y="844.0903">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="71" x="342.5" y="843.2339">[Holding 2]</text><line style="stroke:#181818;stroke-width:1.0;" x1="303" x2="345" y1="869.2891" y2="869.2891"/><line style="stroke:#181818;stroke-width:1.0;" x1="345" x2="345" y1="869.2891" y2="882.2891"/><line style="stroke:#181818;stroke-width:1.0;" x1="304" x2="345" y1="882.2891" y2="882.2891"/><polygon fill="#181818" points="314,878.2891,304,882.2891,314,886.2891,310,882.2891" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="78" x="310" y="864.2231">Switch to RX</text><line style="stroke:#000000;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="263.5" x2="418.5" y1="891.2891" y2="891.2891"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="112" x="268.5" y="901.4995">[Holding nothing]</text><line style="stroke:#181818;stroke-width:1.0;" x1="303" x2="345" y1="926.2266" y2="926.2266"/><line style="stroke:#181818;stroke-width:1.0;" x1="345" x2="345" y1="926.2266" y2="939.2266"/><line style="stroke:#181818;stroke-width:1.0;" x1="304" x2="345" y1="939.2266" y2="939.2266"/><polygon fill="#181818" points="314,935.2266,304,939.2266,314,943.2266,310,939.2266" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="83" x="310" y="921.1606">Disable radio</text><line style="stroke:#000000;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="99.5" x2="428.5" y1="955.2266" y2="955.2266"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="96" x="104.5" y="965.437">[Not holding 1]</text><path d="M262,974.0313 L262,999.0313 L344,999.0313 L344,984.0313 L334,974.0313 L262,974.0313 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M334,974.0313 L334,984.0313 L344,984.0313 L334,974.0313 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="61" x="268" y="991.0981">No action</text><line style="stroke:#181818;stroke-width:1.0;" x1="303" x2="345" y1="1032.2969" y2="1032.2969"/><line style="stroke:#181818;stroke-width:1.0;" x1="345" x2="345" y1="1032.2969" y2="1045.2969"/><line style="stroke:#181818;stroke-width:1.0;" x1="304" x2="345" y1="1045.2969" y2="1045.2969"/><polygon fill="#181818" points="314,1041.2969,304,1045.2969,314,1049.2969,310,1045.2969" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="137" x="310" y="1027.231">Compare IDa and IDb</text><path d="M252,1060.2969 L316,1060.2969 L316,1067.4297 L306,1077.4297 L252,1077.4297 L252,1060.2969 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="109.2031" style="stroke:#000000;stroke-width:1.5;" width="176" x="252" y="1060.2969"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="19" x="267" y="1073.3638">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="78" x="331" y="1072.5073">[IDa == IDb]</text><line style="stroke:#181818;stroke-width:1.0;" x1="303" x2="345" y1="1098.5625" y2="1098.5625"/><line style="stroke:#181818;stroke-width:1.0;" x1="345" x2="345" y1="1098.5625" y2="1111.5625"/><line style="stroke:#181818;stroke-width:1.0;" x1="304" x2="345" y1="1111.5625" y2="1111.5625"/><polygon fill="#181818" points="314,1107.5625,304,1111.5625,314,1115.5625,310,1111.5625" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="106" x="310" y="1093.4966">Generate new ID</text><line style="stroke:#000000;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="252" x2="428" y1="1120.5625" y2="1120.5625"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="74" x="257" y="1130.7729">[IDa != IDb]</text><path d="M262,1139.3672 L262,1164.3672 L344,1164.3672 L344,1149.3672 L334,1139.3672 L262,1139.3672 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M334,1139.3672 L334,1149.3672 L344,1149.3672 L334,1139.3672 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="61" x="268" y="1156.4341">No action</text><path d="M99.5,1190.5 L359.5,1190.5 L359.5,1197.6328 L349.5,1207.6328 L99.5,1207.6328 L99.5,1190.5 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="130.5313" style="stroke:#000000;stroke-width:1.5;" width="265" x="99.5" y="1190.5"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="215" x="114.5" y="1203.5669">Requester receives response</text><polygon fill="#181818" points="164,1224.7656,154,1228.7656,164,1232.7656,160,1228.7656" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="158" x2="302" y1="1228.7656" y2="1228.7656"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="121" x="170" y="1223.6997">LED res(IDa, LED1)</text><line style="stroke:#181818;stroke-width:1.0;" x1="153" x2="195" y1="1257.8984" y2="1257.8984"/><line style="stroke:#181818;stroke-width:1.0;" x1="195" x2="195" y1="1257.8984" y2="1270.8984"/><line style="stroke:#181818;stroke-width:1.0;" x1="154" x2="195" y1="1270.8984" y2="1270.8984"/><polygon fill="#181818" points="164,1266.8984,154,1270.8984,164,1274.8984,160,1270.8984" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="78" x="160" y="1252.8325">Switch to RX</text><line style="stroke:#181818;stroke-width:1.0;" x1="153" x2="195" y1="1300.0313" y2="1300.0313"/><line style="stroke:#181818;stroke-width:1.0;" x1="195" x2="195" y1="1300.0313" y2="1313.0313"/><line style="stroke:#181818;stroke-width:1.0;" x1="154" x2="195" y1="1313.0313" y2="1313.0313"/><polygon fill="#181818" points="164,1309.0313,154,1313.0313,164,1317.0313,160,1313.0313" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="53" x="160" y="1294.9653">LED1 on</text><path d="M89.5,1335.0313 L166.5,1335.0313 L166.5,1342.1641 L156.5,1352.1641 L89.5,1352.1641 L89.5,1335.0313 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="247.9297" style="stroke:#000000;stroke-width:1.5;" width="263" x="89.5" y="1335.0313"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="32" x="104.5" y="1348.0981">loop</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="25" x="181.5" y="1347.2417">[x3]</text><path d="M99.5,1359.1641 L247.5,1359.1641 L247.5,1366.2969 L237.5,1376.2969 L99.5,1376.2969 L99.5,1359.1641 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="172.6641" style="stroke:#000000;stroke-width:1.5;" width="243" x="99.5" y="1359.1641"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="103" x="114.5" y="1372.231">Timer timeout</text><line style="stroke:#181818;stroke-width:1.0;" x1="153" x2="195" y1="1397.4297" y2="1397.4297"/><line style="stroke:#181818;stroke-width:1.0;" x1="195" x2="195" y1="1397.4297" y2="1410.4297"/><line style="stroke:#181818;stroke-width:1.0;" x1="154" x2="195" y1="1410.4297" y2="1410.4297"/><polygon fill="#181818" points="164,1406.4297,154,1410.4297,164,1414.4297,160,1410.4297" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="77" x="160" y="1392.3638">Switch to TX</text><polygon fill="#181818" points="291,1435.5625,301,1439.5625,291,1443.5625,295,1439.5625" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="153" x2="297" y1="1439.5625" y2="1439.5625"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="122" x="160" y="1434.4966">LED req(IDa, LED1)</text><line style="stroke:#181818;stroke-width:1.0;" x1="153" x2="195" y1="1468.6953" y2="1468.6953"/><line style="stroke:#181818;stroke-width:1.0;" x1="195" x2="195" y1="1468.6953" y2="1481.6953"/><line style="stroke:#181818;stroke-width:1.0;" x1="154" x2="195" y1="1481.6953" y2="1481.6953"/><polygon fill="#181818" points="164,1477.6953,154,1481.6953,164,1485.6953,160,1481.6953" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="78" x="160" y="1463.6294">Switch to RX</text><line style="stroke:#181818;stroke-width:1.0;" x1="153" x2="195" y1="1510.8281" y2="1510.8281"/><line style="stroke:#181818;stroke-width:1.0;" x1="195" x2="195" y1="1510.8281" y2="1523.8281"/><line style="stroke:#181818;stroke-width:1.0;" x1="154" x2="195" y1="1523.8281" y2="1523.8281"/><polygon fill="#181818" points="164,1519.8281,154,1523.8281,164,1527.8281,160,1523.8281" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="74" x="160" y="1505.7622">Begin timer</text><line style="stroke:#000000;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="89.5" x2="352.5" y1="1539.8281" y2="1539.8281"/><line style="stroke:#181818;stroke-width:1.0;" x1="153" x2="195" y1="1561.9609" y2="1561.9609"/><line style="stroke:#181818;stroke-width:1.0;" x1="195" x2="195" y1="1561.9609" y2="1574.9609"/><line style="stroke:#181818;stroke-width:1.0;" x1="154" x2="195" y1="1574.9609" y2="1574.9609"/><polygon fill="#181818" points="164,1570.9609,154,1574.9609,164,1578.9609,160,1574.9609" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="53" x="160" y="1556.895">LED1 on</text><path d="M89.5,1596.9609 L395.5,1596.9609 L395.5,1604.0938 L385.5,1614.0938 L89.5,1614.0938 L89.5,1596.9609 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="240.9297" style="stroke:#000000;stroke-width:1.5;" width="432.5" x="89.5" y="1596.9609"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="261" x="104.5" y="1610.0278">Requester detects another request</text><polygon fill="#181818" points="164,1631.2266,154,1635.2266,164,1639.2266,160,1635.2266" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="158" x2="453" y1="1635.2266" y2="1635.2266"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="121" x="170" y="1630.1606">LED req(IDc, LED1)</text><line style="stroke:#181818;stroke-width:1.0;" x1="153" x2="195" y1="1664.3594" y2="1664.3594"/><line style="stroke:#181818;stroke-width:1.0;" x1="195" x2="195" y1="1664.3594" y2="1677.3594"/><line style="stroke:#181818;stroke-width:1.0;" x1="154" x2="195" y1="1677.3594" y2="1677.3594"/><polygon fill="#181818" points="164,1673.3594,154,1677.3594,164,1681.3594,160,1677.3594" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="84" x="160" y="1659.2935">Drop request</text><line style="stroke:#181818;stroke-width:1.0;" x1="153" x2="195" y1="1706.4922" y2="1706.4922"/><line style="stroke:#181818;stroke-width:1.0;" x1="195" x2="195" y1="1706.4922" y2="1719.4922"/><line style="stroke:#181818;stroke-width:1.0;" x1="154" x2="195" y1="1719.4922" y2="1719.4922"/><polygon fill="#181818" points="164,1715.4922,154,1719.4922,164,1723.4922,160,1719.4922" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="136" x="160" y="1701.4263">Compare IDa and IDc</text><path d="M99.5,1734.4922 L163.5,1734.4922 L163.5,1741.625 L153.5,1751.625 L99.5,1751.625 L99.5,1734.4922 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="96.3984" style="stroke:#000000;stroke-width:1.5;" width="178.5" x="99.5" y="1734.4922"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="19" x="114.5" y="1747.5591">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="77" x="178.5" y="1746.7026">[IDa == IDc]</text><line style="stroke:#181818;stroke-width:1.0;" x1="153" x2="195" y1="1772.7578" y2="1772.7578"/><line style="stroke:#181818;stroke-width:1.0;" x1="195" x2="195" y1="1772.7578" y2="1785.7578"/><line style="stroke:#181818;stroke-width:1.0;" x1="154" x2="195" y1="1785.7578" y2="1785.7578"/><polygon fill="#181818" points="164,1781.7578,154,1785.7578,164,1789.7578,160,1785.7578" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="106" x="160" y="1767.6919">Generate new ID</text><line style="stroke:#000000;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="99.5" x2="278" y1="1794.7578" y2="1794.7578"/><path d="M112,1800.7578 L112,1825.7578 L194,1825.7578 L194,1810.7578 L184,1800.7578 L112,1800.7578 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M184,1800.7578 L184,1810.7578 L194,1810.7578 L184,1800.7578 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="61" x="118" y="1817.8247">No action</text><!--MD5=[9aeb2f642c1dce3d4fd8ad31fc1a91ee]
@startuml sequence-diagram

actor User
participant Requester as a
participant Holder as b
participant 2nd_requester as c

group Startup
    a -> a: Generate ID
end

group User action
    User -> a: Button1 press
    a -> a: Check if\nholding LED1

    alt Holding 1
        note over a: No action
    else Not holding 1
        a -> a: Switch to TX
        a -> b: LED req(IDa, LED1)
        a -> a: Switch to RX
        a -> a: Begin timer
    end

end

group Holder receives request
    a -> b: LED req(IDa, LED1)
    b -> b: Check if\nholding LED1

    alt Holding 1
        b -> b: LED1 off
        b -> b: Switch to TX
        b -> a: LED res(IDa, LED1)
        b -> b: Check if\nholding LED2

        alt Holding 2
            b -> b: Switch to RX
        else Holding nothing
            b -> b: Disable radio
        end

    else Not holding 1
        note over b: No action
    end

    b -> b: Compare IDa and IDb

    alt IDa == IDb
        b -> b: Generate new ID
    else IDa != IDb
        note over b: No action
    end

end

group Requester receives response
    b -> a: LED res(IDa, LED1)
    a -> a: Switch to RX
    a -> a: LED1 on
end

loop x3

    group Timer timeout
        a -> a: Switch to TX
        a -> b: LED req(IDa, LED1)
        a -> a: Switch to RX
        a -> a: Begin timer
    end

else
    a -> a: LED1 on
end

group Requester detects another request
    c -> a: LED req(IDc, LED1)
    a -> a: Drop request
    a -> a: Compare IDa and IDc

    alt IDa == IDc
        a -> a: Generate new ID
    else
        note over a: No action
    end

end

@enduml

PlantUML version 1.2022.7(Mon Aug 22 18:01:30 BST 2022)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Default Encoding: UTF-8
Language: en
Country: GB
--></g></svg>